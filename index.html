<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Not A Virus</title>
  <style>
    body {
      background-color: black;
      color: red;
      font-family: monospace;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>hi :-)</h1>

  <audio id="error" src="https://www.soundjay.com/button/beep-10.wav" preload="auto"></audio>

<script>
// === FUNCTIONS ===

function getBlockedKeysByOS(os) {
  let osSpecificKeys = [];

  switch (os) {
    case 'Windows':
      osSpecificKeys = ['F12', 'F11', 'Alt+Tab', 'Ctrl+Shift+Esc'];
      break;
    case 'macOS':
      osSpecificKeys = ['Command', 'Option', 'F4', 'F11'];
      break;
    case 'Linux':
      osSpecificKeys = ['Ctrl+Alt+T', 'Alt+Tab', 'Super', 'F5'];
      break;
    case 'Chromebook':
      osSpecificKeys = ['Ctrl+Shift+R', 'Ctrl+Alt+T', 'Ctrl+Alt+W'];
      break;
    default:
      osSpecificKeys = [];
      break;
  }

  return osSpecificKeys;
}

// Glitch text
function glitchText() {
  document.body.innerHTML += `<h1 style="color: hsl(${Math.random() * 360}, 100%, 50%)">ERROR!</h1>`;
}

// Flash background
function flashBackground() {
  document.body.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
}

// Spawn errors
function spawnError() {
  const div = document.createElement('div');
  div.innerText = "CRITICAL ERROR DETECTED";
  div.style.position = 'fixed';
  div.style.top = Math.random() * window.innerHeight + "px";
  div.style.left = Math.random() * window.innerWidth + "px";
  div.style.color = 'red';
  div.style.fontSize = (Math.random() * 20 + 10) + "px";
  div.style.zIndex = 10000;
  document.body.appendChild(div);
}

// Play error sound
function playErrorSound() {
  const error = document.getElementById('error');
  error.currentTime = 0;
  error.play();
}

// Open random tabs (will be popup blocked unless user interacted)
function openRandomTabs() {
  const urls = [
    "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
    "https://pointerpointer.com/",
    "https://mondrian.io/",
    "https://www.nyan.cat/"
  ];
  const url = urls[Math.floor(Math.random() * urls.length)];
  window.open(url, "_blank");
}

// Simulated download
function autoDownloadVirus() {
  const link = document.createElement('a');
  link.href = 'data:text/plain,You got owned!';
  link.download = 'virus.txt';
  document.body.appendChild(link);
  link.click();
  link.remove();
}

// Steal focus
function stealFocus() {
  window.focus();
}

// Resize window (likely blocked)
function windowResize() {
  try {
    window.resizeBy(Math.random() * 100 - 50, Math.random() * 100 - 50);
  } catch (e) {}
}

// Fake user-agent (read-only, doesn't affect servers)
function spoofUserAgent() {
  const userAgents = [
    'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)',
    'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',
    'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36',
    'FakeBrowser/123.45'
  ];
  // NOTE: Won't actually spoof in modern browsers
}

// Jumpscare
function randomJumpscare() {
  const jumpscareImages = [
    "https://www.icegif.com/wp-content/uploads/2023/02/icegif-1692.gif", 
    "https://i.pinimg.com/originals/c0/7f/97/c07f97f3234f1820d0388f1a62377a9a.gif",
    "https://www.icegif.com/wp-content/uploads/2023/02/icegif-1681.gif",
    "https://www.icegif.com/wp-content/uploads/2023/02/icegif-1686.gif",
    "https://media.tenor.com/-yL9BAwZDOcAAAAM/rat-michael-jackson.gif"
  ];
  const img = document.createElement('img');
  img.src = jumpscareImages[Math.floor(Math.random() * jumpscareImages.length)];
  img.style.position = 'fixed';
  img.style.left = 0;
  img.style.top = 0;
  img.style.width = '100vw';
  img.style.height = '100vh';
  img.style.zIndex = 9999;
  document.body.appendChild(img);
  setTimeout(() => img.remove(), 2000);
}

// === INTERVALS ===

setInterval(glitchText, 500);
setInterval(flashBackground, 300);
setInterval(spawnError, 700);
setInterval(playErrorSound, 1500);
setInterval(openRandomTabs, 15000);       // was too fast
setInterval(autoDownloadVirus, 10000);    // was way too fast
setInterval(stealFocus, 2000);
setInterval(windowResize, 1000);
setInterval(spoofUserAgent, 5000);
setInterval(randomJumpscare, 10000);

// Block tab close
window.onbeforeunload = function() {
  return "Are you sure you want to leave? System may become unstable!";
};
</script>
</body>
</html>
